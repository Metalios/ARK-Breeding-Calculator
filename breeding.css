/* ============= ASA TEC-STYLE THEME ============= */
:root{
  --bg: #0b0f14;
  --bg-elev-1: #0f151c;
  --bg-elev-2: #111a22;
  --panel: #141e27;
  --panel-2: #1a2833;
  --tek: #66ccff;
  --tek-2: #41b6ff;
  --tek-3: #2b99df;
  --ok: #7ddc82;
  --warn: #ffcf5b;
  --err: #ff6b6b;
  --text: #e6f2fb;
  --muted: #a6c2d6;
  --shadow: rgba(0,0,0,.6);
  --ring: rgba(102,204,255,.35);
  --radius: 14px;
  --radius-sm: 8px;
  --radius-xs: 6px;
  --gap: 14px;
  --gap-lg: 22px;
  --font: "Inter", "Segoe UI", Roboto, system-ui, Arial, sans-serif;
}

/* Global reset-ish */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(102,204,255,.10), transparent 60%),
    radial-gradient(900px 600px at 110% 10%, rgba(65,182,255,.08), transparent 60%),
    linear-gradient(180deg, #091015 0%, #0b0f14 30%, #0b0f14 100%);
}
body::before{content:"";position:fixed;inset:0;background:rgba(0,0,0,.45);pointer-events:none}

/* Links */
a{color:var(--tek)} a:hover{color:var(--tek-2)}

/* ============= APP SHELL ============= */
.app-shell{max-width:1200px;margin:min(5vh,40px) auto;padding:0 var(--gap)}
.app-header{display:flex;align-items:center;gap:16px;margin-bottom:var(--gap-lg)}
.app-logo{
  width:46px;height:46px;border-radius:10px;
  background:
    radial-gradient(50% 50% at 30% 30%, rgba(102,204,255,.25), transparent 70%),
    linear-gradient(135deg, var(--panel-2), var(--panel));
  box-shadow:0 8px 28px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.03);
}
.app-title{line-height:1.1}
.app-title h1{margin:0;font-size:1.45rem;letter-spacing:.2px;font-weight:650}
.app-title .sub{margin-top:2px;color:var(--muted);font-size:.9rem}

/* ============= CARD / PANEL ============= */
.panel{
  background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  border-radius:var(--radius);
  box-shadow:0 20px 50px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
  border:1px solid rgba(102,204,255,.10);
  overflow:hidden;
}
.panel-head{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px;
  background:linear-gradient(180deg, rgba(102,204,255,.08), rgba(102,204,255,.04));
  border-bottom:1px solid rgba(102,204,255,.12);
}
.panel-head h3{margin:0;font-size:1rem;font-weight:650;color:var(--tek)}
.panel-body{padding:16px}

/* ============= SECTION TOGGLES ============= */
.tableheader{
  cursor:pointer;user-select:none;padding:12px 14px;margin-top:12px;
  background:linear-gradient(180deg, rgba(102,204,255,.08), rgba(102,204,255,.02));
  border:1px solid rgba(102,204,255,.15);color:var(--text);
  border-radius:var(--radius-sm);
  display:flex;align-items:center;justify-content:space-between;
}
.tableheader::after{content:"▾";color:var(--tek);transition:transform .2s ease}
.tableheader.dimmed{color:var(--muted)}
.tableslide{
  overflow:hidden;border-left:1px solid rgba(102,204,255,.12);
  border-right:1px solid rgba(102,204,255,.12);border-bottom:1px solid rgba(102,204,255,.12);
  border-radius:0 0 var(--radius-sm) var(--radius-sm);
  background:linear-gradient(180deg, rgba(255,255,255,.02), transparent 35%);padding:0;
}

/* ============= TABLES ============= */
table{width:100%;border-collapse:separate;border-spacing:0;min-width:420px}
thead th{
  text-align:left;font-weight:700;color:var(--tek);padding:12px 14px;
  background:rgba(255,255,255,.02);position:sticky;top:0;z-index:1;
}
tr + tr td{border-top:1px solid rgba(255,255,255,.05)}
td{padding:10px 14px;vertical-align:middle}
td:first-child{width:48%;color:var(--muted)}
.label{font-weight:700;color:var(--tek)}
h3{margin:0 0 2px}
p.subheading{margin:0 0 10px;color:var(--muted);font-size:.9rem}
p.footer{margin:10px 0 0;color:var(--muted);font-size:.9rem}

/* ============= FORMS ============= */
input[type="number"],input[type="text"],input[type="search"],input[type="email"],input[type="password"],select,.autocomplete{
  width:100%;font:500 0.95rem/1.2 var(--font);color:var(--text);
  background:linear-gradient(180deg, #0c1319 0%, #0e161d 100%);
  border:1px solid rgba(102,204,255,.22);border-radius:var(--radius-xs);padding:10px 12px;
  box-shadow:0 1px 0 rgba(255,255,255,.03) inset,0 0 0 0 var(--ring);
  transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
input::placeholder{color:rgba(230,242,251,.45)}
input:focus,select:focus{outline:none;border-color:var(--tek-2);box-shadow:0 0 0 4px var(--ring)}
input[type="number"].w-compact{width:120px}

/* Custom SELECT (no native chrome) */
select{
  -webkit-appearance:none;-moz-appearance:none;appearance:none;
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.00)),
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="%2366ccff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
  background-repeat:no-repeat, no-repeat;
  background-position:0 0, right 10px center;background-size:auto,18px;
  padding-right:40px;cursor:pointer;
}
select:disabled{opacity:.55;cursor:not-allowed}
option{background:#0c1319;color:var(--text)}

/* ============= TOOLTIP ============= */
.tooltip{position:relative}
.tooltip .tooltiptext{
  position:absolute;left:100%;top:50%;transform:translate(12px,-50%);
  min-width:220px;padding:10px 12px;background:linear-gradient(180deg, #0c1319, #0e161d);
  border:1px solid rgba(102,204,255,.25);border-radius:10px;box-shadow:0 14px 40px rgba(0,0,0,.5);
  color:var(--text);opacity:0;visibility:hidden;transition:opacity .15s ease, visibility .15s ease;
  pointer-events:none;font-size:.9rem;font-weight:500;
}
.tooltip:hover .tooltiptext{opacity:1;visibility:visible}

/* ============= LAYOUT HELPERS ============= */
.wrapperbox{display:grid;grid-template-columns:1fr min(900px, 100%) 1fr}
.wrapperbox > *{grid-column:2}
.box{
  background:linear-gradient(180deg, var(--panel) 0%, var(--bg-elev-2) 100%);
  border:1px solid rgba(102,204,255,.12);border-radius:var(--radius);padding:var(--gap-lg);
  box-shadow:0 24px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.03);
}
.messagebox{max-width:520px}
.changes-box{
  max-width:480px;background:linear-gradient(180deg, var(--panel) 0%, var(--bg-elev-2) 100%);
  border:1px solid rgba(102,204,255,.12);border-radius:var(--radius);
  height:420px;padding:14px;overflow:auto;
}
.red{color:var(--err)} .fillfood{font-style:italic;color:var(--muted)} .hidden{display:none}
label{background:none;padding:0;margin-left:0;font-size:inherit;font-weight:600;color:var(--text)}

/* Angular slide animations (keep your originals working) */
.tableslide.ng-hide-add,.tableslide.ng-hide-remove{display:block!important}
.tableslide.ng-hide-add .panel-body,.tableslide.ng-hide-remove .panel-body{will-change:height,opacity}
.tableslide.ng-hide-add{animation:collapse .35s ease forwards}
.tableslide.ng-hide-remove{animation:expand .35s ease forwards}
@keyframes collapse{from{opacity:1;transform:none}to{opacity:0;transform:translateY(-6px)}}
@keyframes expand{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}

/* ===== STRONG OVERRIDES FOR jQuery UI AUTOCOMPLETE =====
   (the menu is appended to <body> with classes below) */
.ui-autocomplete,
.ui-menu.ui-widget.ui-widget-content,
.ui-widget.ui-widget-content.ui-autocomplete,
.ui-menu.ui-widget.ui-widget-content.ui-autocomplete {
  background: linear-gradient(180deg, #0d141a, #0f151c) !important;
  border: 1px solid rgba(102,204,255,.25) !important;
  border-radius: 8px !important;
  box-shadow: 0 18px 50px rgba(0,0,0,.55) !important;
  color: var(--text) !important;
  z-index: 10000 !important;
  max-height: 260px !important;
  overflow: auto !important;
  padding: 6px 0 !important;
}
.ui-menu{ /* ensure container itself inherits ASA look */
  background: linear-gradient(180deg, #0d141a, #0f151c) !important;
  border: 1px solid rgba(102,204,255,.25) !important;
  border-radius: 8px !important;
}
.ui-widget-content{ /* catch-all for old jQuery-UI themes */
  background: linear-gradient(180deg, #0d141a, #0f151c) !important;
  color: var(--text) !important;
}
.ui-menu .ui-menu-item{margin:0 !important}
.ui-menu .ui-menu-item-wrapper{
  font: 500 0.95rem/1.2 var(--font) !important;
  color: var(--text) !important;
  padding: 10px 12px !important;
  border: 0 !important;
  background: transparent !important;
}
.ui-state-active,
.ui-menu .ui-menu-item-wrapper.ui-state-active,
.ui-menu .ui-menu-item-wrapper.ui-state-hover {
  background: linear-gradient(180deg, rgba(102,204,255,.20), rgba(102,204,255,.08)) !important;
  color: var(--text) !important;
  border: 0 !important;
  margin: 0 !important;
}
.ui-helper-hidden-accessible{display:none !important} /* avoid stray offset nodes */

/* Make the autocomplete trigger input match the theme */
input.autocomplete{
  width:100%;font:500 0.95rem/1.2 var(--font);color:var(--text);
  background:linear-gradient(180deg, #0c1319 0%, #0e161d 100%);
  border:1px solid rgba(102,204,255,.22);border-radius:6px;padding:10px 12px;outline:none;
}
input.autocomplete:focus{
  border-color:var(--tek-2);
  box-shadow:0 0 0 4px var(--ring);
}

/* Menu container (already themed, repeat here to be safe) */
.ui-autocomplete,
.ui-menu.ui-widget.ui-widget-content,
.ui-widget.ui-widget-content.ui-autocomplete,
.ui-menu.ui-widget.ui-widget-content.ui-autocomplete {
  background: linear-gradient(180deg, #0d141a, #0f151c) !important;
  border: 1px solid rgba(102,204,255,.25) !important;
  border-radius: 8px !important;
  box-shadow: 0 18px 50px rgba(0,0,0,.55) !important;
  color: var(--text) !important;
  z-index: 10000 !important;
  max-height: 260px !important;
  overflow: auto !important;
  padding: 6px 0 !important;
}

/* Some builds style the <ul> via .ui-menu alone */
.ui-menu {
  background: linear-gradient(180deg, #0d141a, #0f151c) !important;
  border: 1px solid rgba(102,204,255,.25) !important;
  border-radius: 8px !important;
}

/* Reset *every* item type to be transparent by default */
.ui-menu .ui-menu-item,
.ui-menu .ui-menu-item > a,
.ui-menu .ui-menu-item > div,
.ui-menu .ui-menu-item-wrapper {
  background: transparent !important;
  color: var(--text) !important;
  font: 500 0.95rem/1.2 var(--font) !important;
  padding: 10px 12px !important;
  margin: 0 !important;
  border: 0 !important;
  display: block !important;       /* ensure anchors stretch full width */
}

/* Hover/active states (all variations jQuery-UI applies) */
.ui-menu .ui-state-active,
.ui-menu .ui-state-focus,
.ui-menu .ui-menu-item > a.ui-state-active,
.ui-menu .ui-menu-item > a.ui-state-focus,
.ui-menu .ui-menu-item > div.ui-state-active,
.ui-menu .ui-menu-item > div.ui-state-focus,
.ui-state-active {
  background: linear-gradient(180deg, rgba(102,204,255,.20), rgba(102,204,255,.08)) !important;
  color: var(--text) !important;
  border: 0 !important;
  margin: 0 !important;
}

/* Make sure generic jQuery-UI “widget content” doesn’t push its palette */
.ui-widget-content {
  background: transparent !important;  /* container already themed above */
  color: var(--text) !important;
}

/* Scrollbar (optional—keeps it from looking “OS default” teal) */
.ui-autocomplete::-webkit-scrollbar { width: 10px }
.ui-autocomplete::-webkit-scrollbar-track { background: #0e161d }
.ui-autocomplete::-webkit-scrollbar-thumb { background: #2b99df; border-radius: 8px }
.ui-autocomplete { scrollbar-color: #2b99df #0e161d } /* Firefox */

/* Trigger input should match all other controls */
input.autocomplete {
  width: 100%;
  font: 500 0.95rem/1.2 var(--font);
  color: var(--text);
  background: linear-gradient(180deg, #0c1319 0%, #0e161d 100%);
  border: 1px solid rgba(102,204,255,.22);
  border-radius: 6px;
  padding: 10px 12px;
  outline: none;
}
input.autocomplete:focus {
  border-color: var(--tek-2);
  box-shadow: 0 0 0 4px var(--ring);
}

/* Accessibility helper spans (offscreen) */
.ui-helper-hidden-accessible { display: none !important; }
